<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        class Card{
            #rank;
            #suit;
            #index;
        
            get rank(){
                return this.#rank;
            }
        
            set rank(rank){
                this.#rank=rank;
            }
        
            get suit(){
                return this.#suit;
            }
        
            set suit(suit){
                this.#suit=suit;
            }
        
            get index(){
                return this.#index;
            }
        
            set index(index){
                this.#index=index;
            }
        
            constructor(index){
                this.rank=((index-1)%13)+1;
                //Aのカードはランク14として扱う
                if(this.rank===1){
                    this.rank=14;
                }
                this.suit=Math.floor((index-1)/13)+1;
                this.index=index;
            }
        }
        class Util{
          /*イベントハンドラを追加する*/
          static addEventListener=(selector,event,handler)=>{
              document.querySelectorAll(selector).forEach((e)=>e.addEventListener(event,handler));
          }
      
          //数値を合計する
          static sum = (...numbers) =>{
              let sum = 0;
              numbers.forEach((e) => {
                  sum += e;
              });
              return sum;
          };
      }
      
      

        const combination = (nums, k) => {
            let ans = [];
            if (nums.length < k) {
              return [];
            }
            if (k === 1) {
              for (let i = 0; i < nums.length; i++) {
                ans[i] = [nums[i]];
              }
            } else {
              for (let i = 0; i < nums.length - k + 1; i++) {
                let row = combination(nums.slice(i + 1), k - 1);
                for (let j = 0; j < row.length; j++) {
                  ans.push([nums[i]].concat(row[j]));
                }
              }
            }
            return ans;
          };

          var order =0;

          var hand_strength=(hand)=>{
            //ロイヤルストレートフラッシュの判定
            if (hand[0][1] === 14 && 
                hand[1][1] === 13 && 
                hand[2][1] === 12 &&
                hand[3][1] === 11 &&
                hand[4][1] === 10 &&
                hand[0][0] === hand[1][0] &&
                hand[0][0] === hand[2][0] &&
                hand[0][0] === hand[3][0] &&
                hand[0][0] === hand[4][0] 
                ){
                  order=9;
                  rank = Util.sum(900,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
                  return rank;
                }
              //ストレートフラッシュの判定
            else if (
              hand[0][1] === hand[1][1]+1 &&
              hand[1][1] === hand[2][1]+1 &&
              hand[2][1] === hand[3][1]+1 &&
              hand[3][1] === hand[4][1]+1 &&
              hand[0][0] === hand[1][0] &&
              hand[0][0] === hand[2][0] &&
              hand[0][0] === hand[3][0] &&
              hand[0][0] === hand[4][0] 
            ){
              order =8;
              rank = Util.sum(800,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
             return rank;
            }
            //フォーカードの判定
            else if (
              (hand[0][1] === hand[1][1] &&
              hand[0][1] === hand[2][1] &&
              hand[0][1] === hand[3][1]) ||
              (hand[1][1] === hand[2][1] &&
                hand[1][1] === hand[3][1] &&
                hand[1][1] === hand[4][1]) 
            ){
              order = 7;
              rank = Util.sum(700,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
              return rank;
            }
            //フルハウスの判定
            else if (
              (hand[0][1] === hand[1][1] &&
               hand[2][1] === hand[3][1] &&
               hand[2][1] === hand[4][1])||
              (hand[0][1] === hand[1][1] &&
               hand[0][1] === hand[2][1] &&
               hand[3][1] === hand[4][1])
             ){
               order = 6;
               rank = Util.sum(600,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
               return rank;
            }
            //フラッシュの判定
            else if (
              hand[0][0] === hand[1][0] &&
              hand[0][0] === hand[2][0] &&
              hand[0][0] === hand[3][0] &&
              hand[0][0] === hand[4][0]   
            ){
              order = 5;
              rank = Util.sum(500,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
               return rank;
            }
            //ストレートの判定
            else if (
              hand[0][1] === hand[1][1]+1 &&
              hand[1][1] === hand[2][1]+1 &&
              hand[2][1] === hand[3][1]+1 &&
              hand[3][1] === hand[4][1]+1 
            ){
              order = 4;
              rank = Util.sum(400,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
               return rank;
            }
            //スリーカードの判定
            else if (
              (hand[0][1] === hand[1][1] &&
               hand[0][1] === hand[2][1]) ||
              (hand[1][1] === hand[2][1] &&
               hand[1][1] === hand[3][1]) ||
              (hand[2][1] === hand[3][1] &&
               hand[2][1] === hand[4][1]) 
              ){
                 order = 3;
                 rank = Util.sum(300,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
               return rank;
               }
            //ツーペアの判定
            else if (
              (hand[0][1] === hand[1][1] &&
               hand[2][1] === hand[3][1])||
              (hand[1][1] === hand[2][1] &&
               hand[3][1] === hand[4][1])
              ){
                 order = 2;
                 rank = Util.sum(200,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
                 return rank;
              }
            //ワンペアの判定
            else if (
              (hand[0][1] === hand[1][1])||
              (hand[1][1] === hand[2][1])||
              (hand[2][1] === hand[3][1])||
              (hand[3][1] === hand[4][1])
              ){
                 order = 1;
                 rank = Util.sum(100,hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
               return rank;
               }
                //役なし
            else{
              order =0;
              rank = Util.sum(hand[0][1],hand[1][1],hand[2][1],hand[3][1],hand[4][1]);
               return rank;
              }
    
          }

        
         var cards = [];
        [...Array(52)].map((_,index)=>{
            cards.push(new Card(index+1));
        });

         
        //document.write(cards);
        //document.write(cards[0].rank);
        //document.write(cards[0].index)
        var c =[];
        cards.forEach((_)=>{
          const s =[];
          s.push(_.suit);
          s.push(_.rank);
          c.push(s);
          }
        );
        //c[0][0]がsuit,c[0][1]がrank


        //document.write(JSON.stringify(c));
        //console.log(c);

        [...Array(100)].forEach(() => {
            // 山札から2枚のカードをランダムに選んで交換する
            const j = Math.floor(Math.random() * c.length);
            const k = Math.floor(Math.random() * c.length);
            [c[j], c[k]] = [c[k], c[j]];
          });

          //document.write(c);

          var hand = [];

          [...Array(7)].forEach(() => {
            // 山札からカードを1枚取り出してプレイヤーに配る、合計７枚配る
             hand.push(c.pop());
          });

          console.log(hand);

        

       // hand.sort(compareNum);
        
        //document.write(JSON.stringify(hand));
        //document.write(JSON.stringify(hand[0][0]));
        //document.write(JSON.stringify(hand[6][1]));

        
        function compareNum(a,b) {
          return  b[1] - a[1];
        }
        
        let co = (combination(hand,5));//７枚から５枚の組み合わせを全て出す
       // document.write(JSON.stringify(co));

        //全ての組み合わせをrankを基に降順にする
        co.forEach((e)=>{
          e.sort(compareNum);
        })
        //document.write(JSON.stringify(co));
        //var cc = [[[1,14],[1,13],[1,12],[1,11],[1,10]],[[1,9],[1,8],[1,7],[1,6],[1,5]],[[1,5],[2,3],[3,3],[4,3],[1,3]],[[4,1],[4,1],[4,1],[2,5],[2,5]],[[3,4],[3,1],[3,1],[3,5],[3,5]],[[1,6],[2,5],[3,4],[4,3],[1,2]],[[1,6],[2,6],[3,6],[4,3],[1,2]],[[2,14],[1,14],[4,10],[1,10],[4,7]],[[2,14],[1,14],[4,10],[1,5],[4,7]]];
        const a = [];

        //co.forEach((e)=>{
          //a.push(hand_strength(e));
       // });
        //document.write(JSON.stringify(co));
       // document.write(JSON.stringify(a));

        const max = Math.max(...a);
        //document.write(max);

        const result = a.indexOf(max);
        //document.write(result); 
        //document.write(co[result]);

var array1 = ['sa', 'mu'];
var array2 = ['ra', 'i'];
var array3 = ['ju', 'ku'];
var array4 = ["j"]
var array5 = ["ll"]
var r = array1.concat(array2,array3,array4,array5);
//document.write(r);
        
        


        
        

        

        





        
    </script>
</body>
</html>